(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{1057:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resetDefaultAudio=void 0;var i,n,a=o(r(15)),s=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],i=!0,n=!1,a=void 0;try{for(var s,u=t[Symbol.iterator]();!(i=(s=u.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(t){n=!0,a=t}finally{try{!i&&u.return&&u.return()}finally{if(n)throw a}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.resetDefaultAudio=(i=a.default.mark(function t(e,r){var i=s(e,2),n=i[0],o=i[1],l=s(r,2),f=l[0],d=l[1];return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}return t.next=3,(0,c.getTask)(n,{is_chunk:!0,size:1048576});case 3:f=t.sent.data.path;case 4:if(!o){t.next=8;break}return t.next=7,(0,c.getTask)(o,{is_chunk:!0,size:1048576});case 7:d=t.sent.data.path;case 8:return t.abrupt("return",(0,u.request_post)("/read/audio_product",{preview:f,img:d}));case 9:case"end":return t.stop()}},t,this)}),n=function(){var t=i.apply(this,arguments);return new Promise(function(e,r){return function i(n,a){try{var s=t[n](a),u=s.value}catch(t){return void r(t)}if(!s.done)return Promise.resolve(u).then(function(t){i("next",t)},function(t){i("throw",t)});e(u)}("next")})},function(t,e){return n.apply(this,arguments)});e.getDefaultInfo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,u.request_get)("/read/audio_product/default_audio",t)};var u=r(76),c=(o(r(106)),r(77));function o(t){return t&&t.__esModule?t:{default:t}}},1058:function(t,e,r){"use strict";var i=r(554);r.n(i).a},1103:function(t,e,r){"use strict";var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"mainRight"},[r("div",{staticClass:"contentWrap"},[r("div",{staticClass:"contentLeft"},[r("div",{staticClass:"maindata"},[r("div",{staticClass:"box"},[t._m(0),r("div",{staticClass:"AudioInfo"},[r("div",{staticClass:"videoAddr"},[r("p",[t._v("默认音频:")]),r("audio",{ref:"media",attrs:{src:t.previewMediaUrl,controls:""}})]),r("div",{staticClass:"select"},[r("el-button",{staticStyle:{"margin-top":"20px"},attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){return t.$refs.meidaFile.click()}}},[t._v("音频上传")]),r("input",{ref:"meidaFile",staticClass:"hide",attrs:{type:"file",accept:t.mediaType&&"voice"==t.mediaType?t.$config.voiceAccept:t.$config.videoAccept},on:{change:t.previewMedia}})],1),r("div",{staticClass:"imgAddr"},[r("p",[t._v("默认封面:")]),r("img",{staticClass:"coverImg",attrs:{src:t.previewImgUrl}})]),r("div",{staticClass:"select"},[r("el-button",{staticStyle:{"margin-top":"20px"},attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){return t.$refs.coverInput.click()}}},[t._v("图片上传")]),r("input",{ref:"coverInput",staticClass:"hide",attrs:{type:"file",accept:t.$config.imgAccept},on:{change:t.previewImg}}),r("div",{staticClass:"submit"},[r("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){return t.submit()}}},[t._v("确定")])],1)],1)])])])])])])},n=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tableWrap"},[e("div",{staticClass:"tableTop"},[e("div",{staticClass:"title vel-line"},[e("span",[this._v("默认音频(默认为用户打开任何音频是播放音频，建议上传出版社介绍音频)")])])])])}];r.d(e,"a",function(){return i}),r.d(e,"b",function(){return n})},266:function(t,e,r){"use strict";r.r(e);var i=r(1103),n=r(552);for(var a in n)"default"!==a&&function(t){r.d(e,t,function(){return n[t]})}(a);r(1058);var s=r(0),u=Object(s.a)(n.default,i.a,i.b,!1,null,"76396b2b",null);e.default=u.exports},552:function(t,e,r){"use strict";r.r(e);var i=r(553),n=r.n(i);for(var a in i)"default"!==a&&function(t){r.d(e,t,function(){return i[t]})}(a);e.default=n.a},553:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(r(15)),n=(a(r(108)),r(1057));r(77);function a(t){return t&&t.__esModule?t:{default:t}}function s(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function i(n,a){try{var s=e[n](a),u=s.value}catch(t){return void r(t)}if(!s.done)return Promise.resolve(u).then(function(t){i("next",t)},function(t){i("throw",t)});t(u)}("next")})}}e.default={data:function(){return{defaultAudioInfo:"",mediaFile:null,coverFile:null,previewImgUrl:null,previewMediaUrl:null,mediaType:"voice",mediaTypeName:"音频"}},mounted:function(){this.getAudioInfo()},methods:{getAudioInfo:function(){var t=s(i.default.mark(function t(){var e=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,n.getDefaultInfo)().then(function(t){e.previewImgUrl=t.data.img_src,e.previewMediaUrl=t.data.preview_src});case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),previewImg:function(t){var e=t.target.files[0];this.coverFile=e,this.previewImgUrl=URL.createObjectURL(e)},previewMedia:function(t){var e=t.target.files[0];this.mediaFile=e,dir(e),this.previewMediaUrl=URL.createObjectURL(e)},submit:function(){var t=s(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,n.resetDefaultAudio)([this.mediaFile,this.coverFile],[this.previewMediaUrl,this.previewImgUrl]).then(function(t){return t.data.path});case 3:this.$message.success("媒体文件上传成功!"),t.next=11;break;case 6:return t.prev=6,t.t0=t.catch(0),console.error(t.t0),this.$message.error("媒体文件上传失败!"),t.abrupt("return");case 11:case"end":return t.stop()}},t,this,[[0,6]])}));return function(){return t.apply(this,arguments)}}()}}},554:function(t,e,r){}}]);