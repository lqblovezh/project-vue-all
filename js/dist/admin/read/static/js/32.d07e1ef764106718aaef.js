(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{1080:function(e,t,a){"use strict";var n=a(597);a.n(n).a},1093:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"indexs"},[a("div",{staticClass:"mainRight"},[a("div",{staticClass:"maindata"},[a("div",{staticClass:"serachWrap"},[a("div",{staticClass:"NavList"},[a("el-tabs",{on:{"tab-click":e.handleNavClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"管理员列表",name:"manager"}}),a("el-tab-pane",{attrs:{label:"管理员日志",name:"journal"}}),a("el-tab-pane",{attrs:{label:"角色管理",name:"role"}})],1)],1),a("form",{attrs:{id:"mainForm"}},[e._m(0),e._m(1),e._m(2),a("span",{staticClass:"group-inline"},[a("TimePick",{attrs:{inputsName:["start_time","end_time"]}})],1),a("span",{staticClass:"group-inline"},[e.roleInfo.roleList?a("el-select",{attrs:{name:"searchName",placeholder:"选择角色搜索",clearable:""},model:{value:e.roleInfo.roleValue,callback:function(t){e.$set(e.roleInfo,"roleValue",t)},expression:"roleInfo.roleValue"}},e._l(e.roleInfo.roleList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1):e._e()],1),a("el-col",{staticClass:"right",attrs:{span:4}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",plain:""},on:{click:e.seareHandeler}},[e._v("搜索")])],1)],1)]),a("div",{staticClass:"tableWrap"},[a("table",{staticClass:"table"},[e._m(3),e.pageList.length?a("tbody",e._l(e.pageList,function(t){return a("tr",[a("td",{domProps:{textContent:e._s(t.manager_name)}}),a("td",{domProps:{textContent:e._s(t.manager_nick_name)}}),a("td",e._l(t.roles,function(t,n){return a("span",[e._v(e._s(t))])}),0),a("td",{domProps:{textContent:e._s(t.client_ip)}}),a("td",{domProps:{textContent:e._s(t.create_time)}}),a("td",{domProps:{textContent:e._s(t.content)}})])}),0):e._e()])]),e.page?a("div",{staticClass:"pageWrap"},[a("el-pagination",{attrs:{small:!1,background:"","current-page":e.page.num,"page-sizes":[10,50,100],"page-size":e.page.offset,layout:"total, sizes, prev, pager, next, jumper",total:e.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e()])])])},r=[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"group-inline"},[t("input",{staticClass:"form-control",attrs:{name:"name",placeholder:"输入用户名搜索"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"group-inline"},[t("input",{staticClass:"form-control",attrs:{name:"nick_name",placeholder:"输入名称搜索"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"group-inline"},[t("input",{staticClass:"form-control",attrs:{name:"client_ip",placeholder:"输入IP搜索"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",[this._v("用户名")]),t("th",[this._v("名称")]),t("th",[this._v("角色")]),t("th",[this._v("IP地址")]),t("th",[this._v("操作时间")]),t("th",[this._v("操作记录")])])])}];a.d(t,"a",function(){return n}),a.d(t,"b",function(){return r})},280:function(e,t,a){"use strict";a.r(t);var n=a(1093),r=a(595);for(var o in r)"default"!==o&&function(e){a.d(t,e,function(){return r[e]})}(o);a(1080);var i=a(0),l=Object(i.a)(r.default,n.a,n.b,!1,null,"83edb19c",null);t.default=l.exports},389:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.listRole=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.request_get)("/common/manager/roles",e)},t.listManager=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.request_get)("/common/manager/managers",e)},t.addManager=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.request_post)("/common/manager/managers",e)},t.modifyManager=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,a=s(e,["id"]);return(0,o.request_put)(u({id:t}),a)},t.detailManager=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,a=s(e,["id"]);return(0,o.request_get)(u({id:t}),a)},t.detailRole=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,a=s(e,["id"]);return t?(0,o.request_get)(c({id:t}),a).then(function(e){var t={};if(e.status){t=e.data.accesses;var a={allow_create:0,allow_view_all:0,allow_view_group:0,allow_view_own:0,allow_edit_all:0,allow_edit_group:0,allow_edit_own:0,allow_delete_all:0,allow_delete_group:0,allow_delete_own:0};return d().then(function(e){if(e.status){var r=e.data,o={};for(var i in r)o[r[i].id]=n({},r[i],a),t[r[i].id]&&(o[r[i].id]=n({},r[i],t[r[i].id]));return e.data=o,e}})}}):f()},t.allJurisdiction=d,t._allJurisdiction=f,t.role=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,a=s(e,["id"]);if(t)return(0,o.request_put)(c({id:t}),a);return(0,o.request_post)("/common/manager/roles",a)},t.addRole=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.request_post)("/common/manager/roles",e)},t.deleteManager=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.request_post)("/common/manager/managers/delete",e)},t.deleteRole=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.request_post)("/common/manager/roles/delete",e)},t.logManager=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.request_get)("/common/manager/logs",e)};var r,o=a(76),i=a(106),l=(r=i)&&r.__esModule?r:{default:r};function s(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}var u=l.default.compile("/common/manager/managers/:id"),c=l.default.compile("/common/manager/roles/:id");function d(){return(0,o.request_get)("/common/manager/accesses")}function f(){return(0,o.request_get)("/common/manager/accesses").then(function(e){if(e.status){var t={allow_create:0,allow_view_all:0,allow_view_group:0,allow_view_own:0,allow_edit_all:0,allow_edit_group:0,allow_edit_own:0,allow_delete_all:0,allow_delete_group:0,allow_delete_own:0},a=e.data,r={};for(var o in a)r[a[o].id]=n({},a[o],t);return e.data=r,e}})}},595:function(e,t,a){"use strict";a.r(t);var n=a(596),r=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,function(){return n[e]})}(o);t.default=r.a},596:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(a(15)),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=(s(a(289)),s(a(392))),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(389)),l=a(290);function s(e){return e&&e.__esModule?e:{default:e}}t.default={mixins:[l.publicMixin],data:function(){return{pageList:[],page:null,query:{id:""},path:"jurisdiction",activeName:"journal",timeValue:null,roleInfo:{roleValue:"",roleList:[]}}},created:function(){var e,t=(e=n.default.mark(function e(){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.getRoleInfo();case 1:case"end":return e.stop()}},e,this)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,a){return function n(r,o){try{var i=t[r](o),l=i.value}catch(e){return void a(e)}if(!i.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});e(l)}("next")})});return function(){return t.apply(this,arguments)}}(),methods:{getRoleInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;i.listRole({pageNum:t,pageOffset:a}).then(function(t){e.roleInfo.roleList=t.data})},getList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.page&&this.page.num||1,t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.page&&this.page.offset||10,n=arguments[2];this.query.id=this.$route.query.id;var o=r({pageNum:e,pageOffset:a},n,this.query,{role:this.roleInfo.roleValue});i.logManager(o).then(function(e){t.page=e.page,t.pageList=e.data})}},components:{Menu:o.default}}},597:function(e,t,a){}}]);