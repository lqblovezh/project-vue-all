(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{1035:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)("/read/order/orders",t)},e.detail=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)(r(t),t)},e.educe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)("/read/orders/export",t)};var i,n=a(76),s=a(106);var r=((i=s)&&i.__esModule?i:{default:i}).default.compile("/read/order/orders/:id")},1036:function(t,e,a){"use strict";var i=a(516);a.n(i).a},1111:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"clearfix"},[a("div",{staticClass:"mainRight"},[a("div",{staticClass:"contentWrap"},[a("div",{staticClass:"contentLeft"},[a("div",{staticClass:"maindata"},[a("div",{staticClass:"serachWrap"},[a("div",{staticClass:"title"}),a("form",{attrs:{id:"mainForm"}},[a("span",{staticClass:"group-inline"},[a("el-input",{attrs:{placeholder:"输入单号搜索",name:"order",clearable:""}})],1),a("span",{staticClass:"group-inline"},[a("el-input",{attrs:{placeholder:"输入用户搜索",name:"user_name",clearable:""}})],1),a("span",{staticClass:"group-inline"},[a("el-input",{attrs:{placeholder:"输入手机号搜索",name:"phone",clearable:""}})],1),a("span",{staticClass:"group-inline"},[a("TimePick",{attrs:{inputsName:["start_time","end_time"],placeholder:["创建起始时间","创建结束时间"]}})],1),a("span",{staticClass:"group-inline"},[a("TimePick",{attrs:{inputsName:["start_pay","end_pay"],placeholder:["支付起始时间","支付结束时间"]}})],1),t._m(0),a("span",{staticClass:"group-inline"},[a("el-button",{attrs:{size:"mediu",type:"primary",icon:"el-icon-search",plain:""},on:{click:t.seareHandeler}},[t._v("搜索")]),a("el-button",{attrs:{size:"mediu",type:"primary",icon:"el-icon-search",plain:""},on:{click:function(e){return t.educe()}}},[t._v("导出")])],1)])]),a("div",{staticClass:"tableWrap"},[a("table",{staticClass:"table"},[t._m(1),t.list?a("tbody",t._l(t.list,function(e,i){return a("tr",[a("td",[a("span",[t._v(t._s(i+1))]),a("input",{ref:"ids",refInFor:!0,attrs:{type:"hidden"},domProps:{value:e.id}})]),a("td",{staticClass:"th-name",attrs:{title:e.id}},[t._v(t._s(e.id))]),a("td",[a("div",{attrs:{title:e.user_nick||e.user_name}},[t._v(t._s(e.user_nick||e.user_name))])]),a("td",[t._v(t._s(e.phone))]),a("td",[t._v(t._s(e.create_time))]),a("td",[t._v(t._s(e.goods_num))]),a("td",[t._v(t._s(e.pay_price))]),a("td",[t._v(t._s(e.pay_status))]),a("td",[t._v(t._s(e.pay_time))]),a("td",[a("div",{staticClass:"btns"},[a("span",{staticClass:"icon icon-detail",attrs:{size:"mini",title:"详情",type:"primary",plain:""},on:{click:function(a){return t.opneDetail(e)}}})])])])}),0):t._e()])]),t.page?a("div",{staticClass:"pageWrap"},[a("el-pagination",{attrs:{small:!1,background:"","current-page":t.page.num,"page-sizes":[10,50,100],"page-size":t.page.offset,layout:"total, sizes,prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()])])]),t.detailDate?a("el-dialog",{attrs:{visible:t.detailVisible,width:"1000px",top:"50px"},on:{"update:visible":function(e){t.detailVisible=e}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("el-tabs",{attrs:{value:"detail"}},[a("el-tab-pane",{attrs:{label:"订单详情",name:"detail"}})],1)],1),a("el-form",[a("el-form-item",{attrs:{label:"订单信息:","label-width":"120px"}},[a("p",[a("span",[t._v("订单编号：")]),a("span",[t._v(t._s(t.detailDate.id))])]),a("p",[a("span",[t._v("订单状态：")]),a("span",[t._v(t._s(t.detailDate.pay_status))])]),a("p",[a("span",[t._v("创建时间：")]),a("span",[t._v(t._s(t.detailDate.create_time))])])]),a("el-form-item",{attrs:{label:"商品信息","label-width":"120px"}},[a("table",{staticClass:"table",attrs:{width:"100%"}},[a("thead",[a("tr",[a("th",[t._v("商品序号")]),a("th",[t._v("商品名称")]),a("th",[t._v("所属产品")]),a("th",[t._v("价格")])])]),t.detailDate.goods_info.length?a("tbody",[t._l(t.detailDate.goods_info,function(e,i){return a("tr",[a("td",{domProps:{textContent:t._s(i+1)}}),a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.type_name))]),a("td",[t._v(t._s(e.goods_price))])])}),a("tr",[a("td",{staticStyle:{"text-align":"right"},attrs:{colspan:"3"}},[t._v("合计:")]),a("td",{domProps:{textContent:t._s(t.totalPrice)}})])],2):t._e()])]),a("el-form-item",{attrs:{label:"用户信息:","label-width":"120px"}},[a("p",[a("span",[t._v("用户名：")]),a("span",[t._v(t._s(t.detailDate.user_nick||t.detailDate.user_name))])]),a("p",[a("span",[t._v("绑定手机号：")]),a("span",[t._v(t._s(t.detailDate.phone))])]),a("p",[a("span",[t._v("用户积分：")]),a("span",[t._v(t._s(t.detailDate.credit))])])]),a("el-form-item",{attrs:{label:"支付信息:","label-width":"120px"}},[a("p",[a("span",[t._v("支付方式：")]),a("span",[t._v(t._s(t.detailDate.pay_name))])]),a("p",[a("span",[t._v("支付金额：")]),a("span",[t._v(t._s(t.detailDate.pay_price))])]),a("p",[a("span",[t._v("支付时间：")]),a("span",[t._v("2016-12-25 15:23:26")])])]),a("el-form-item",{attrs:{label:"分销信息:","label-width":"120px"}},[a("p",[a("span",[t._v("分销用户：")]),a("span",[t._v(t._s(t.detailDate.distributor_info.distributor_name))])]),a("p",[a("span",[t._v("分销产品：")]),a("span",[t._v(t._s(t.detailDate.distributor_info.distributor_name))])]),a("p",[a("span",[t._v("分销金额：")]),a("span",[t._v(t._s(t.detailDate.distributor_info.distribute_money))])]),a("p",[a("span",[t._v("分销提成：")]),a("span",[t._v(t._s(t.detailDate.distributor_info.reward_money))])])])],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info",size:"small"},on:{click:function(e){t.detailVisible=!1}}},[t._v("取消")])],1)],1):t._e()],1)])},n=[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"group-inline"},[e("select",{staticClass:"form-control width-small",attrs:{name:"pay_status"}},[e("option",{attrs:{value:""}},[this._v("所有")]),e("option",{attrs:{value:"0"}},[this._v("等待支付")]),e("option",{attrs:{value:"1"}},[this._v("支付完成")]),e("option",{attrs:{value:"-1"}},[this._v("支付关闭")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{width:"40"}},[t._v("序号")]),a("th",[t._v("订单单号")]),a("th",[t._v("用户名")]),a("th",[t._v("绑定手机号")]),a("th",[t._v("创建时间")]),a("th",[t._v("商品数量")]),a("th",[t._v("订单金额")]),a("th",[t._v("订单状态")]),a("th",[t._v("支付时间")]),a("th",{attrs:{width:"40"}},[t._v("操作")])])])}];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},257:function(t,e,a){"use strict";a.r(e);var i=a(1111),n=a(514);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);a(1036);var r=a(0),l=Object(r.a)(n.default,i.a,i.b,!1,null,"06d4d26a",null);e.default=l.exports},514:function(t,e,a){"use strict";a.r(e);var i=a(515),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=n.a},515:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=l(a(15)),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},s=a(290),r=(l(a(289)),function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(1035)));function l(t){return t&&t.__esModule?t:{default:t}}e.default={mixins:[s.publicMixin],data:function(){return{services:r,list:null,page:null,type:{value:"",list:[{name:"所有",value:""},{name:"等待支付",value:"0"},{name:"支付完成",value:"1"},{name:"支付关闭",value:"-1"}]},timePick:null,ctimePick:null,detailVisible:null,detailDate:null}},computed:{totalPrice:function(){var t=0;return this.detailDate.goods_info.forEach(function(e){t+=e.goods_price}),t.toFixed(2)}},methods:{getList:function(){var t,e=(t=i.default.mark(function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.page&&this.page.num||1,s=this,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.page&&this.page.offset||10,o=arguments[2];return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=n({pageNum:a,pageOffset:l},o),t.next=3,r.getList(e).then(function(t){s.page=t.page,s.list=t.data,log(s.list)});case 3:case"end":return t.stop()}},t,this)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(n,s){try{var r=e[n](s),l=r.value}catch(t){return void a(t)}if(!r.done)return Promise.resolve(l).then(function(t){i("next",t)},function(t){i("throw",t)});t(l)}("next")})});return function(){return e.apply(this,arguments)}}(),opneDetail:function(t){var e=this;r.detail({id:t.id}).then(function(t){log(t),e.detailDate=t.data,e.detailDate.order=[],e.detailVisible=!0})}}}},516:function(t,e,a){}}]);