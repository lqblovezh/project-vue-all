(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{1006:function(e,t,a){"use strict";var s=a(469);a.n(s).a},1096:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mainRight"},[a("div",{staticClass:"headGuide"},[a("div",{staticClass:"logo"},[a("img",{attrs:{src:e.plantInfo.extend_info.read?e.plantInfo.extend_info.read.logo_absolute:"",alt:"alt"}})]),a("div",{staticClass:"guide"},[a("h2",[e._v(e._s(e.plantInfo.extend_info.read?e.plantInfo.extend_info.read.title:""))]),a("p",[e._v(e._s(e.plantInfo.extend_info.read?e.plantInfo.extend_info.read.introduction:""))]),a("p",{domProps:{textContent:e._s("服务器当前时间："+e.seriverTime)}})])]),a("div",{staticClass:"content"},[a("div",{staticClass:"top"},[a("div",{staticClass:"lside"},[e._m(0),a("dl",e._l(e.yesterdayData,function(t,s){return a("div",[a("dd",{style:{borderColor:e.color[s],color:e.color[s]}},[e._v(e._s(t[1]))]),a("dt",[e._v(e._s(t[0]))])])}),0)]),a("div",{staticClass:"rside"},[a("div",{staticClass:"title"},[a("div",{staticClass:"text",domProps:{innerHTML:e._s("您已累计运营 <span style='color:#1ABFAE'> "+this.runDayData.days+" </span>天 , 拥有 <span style='color:#1ABFAE'> "+this.runDayData.book_num+" </span> 个 资源")}})]),a("div",{staticClass:"box"},[a("div",{staticClass:"totalMoney"},[e._m(1),a("div",{staticClass:"text"},[e._v(e._s(e.runDayData.sale))])])])])]),a("div",{staticClass:"bottom"},[a("div",{staticClass:"lside"},[e._m(2),a("div",{ref:"charts",staticClass:"draw"}),a("div",{staticClass:"setting"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:e.setting}},[e._v("设置预计")])],1)]),a("div",{staticClass:"rside"},[a("div",{staticClass:"title"},[a("div",{staticClass:"btn"},[a("div",{staticClass:"text",class:"browse"==e.type?"active":null,on:{click:function(t){return e.draw2("browse")}}},[e._v("访问趋势图")]),a("div",{staticClass:"text",class:"sale"==e.type?"active":null,on:{click:function(t){return e.draw2("sale")}}},[e._v(" 销售趋势图")])]),a("div",{staticClass:"date"},[a("el-date-picker",{attrs:{type:"daterange","start-placeholder":"选择开始时间","end-placeholder":"选择结束时间","value-format":"yyyy-MM-dd","range-separator":"至"},on:{change:function(t){return e.draw2(e.type)}},model:{value:e.chooseDate2,callback:function(t){e.chooseDate2=t},expression:"chooseDate2"}})],1)]),a("div",{ref:"charts2",staticClass:"draw"})])])]),a("el-dialog",{staticClass:"dialog",attrs:{width:"500px",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"详情",name:"first"}},[a("el-form",{ref:"ruleForm",attrs:{model:e.update,"status-icon":"",rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"新增用户",prop:"user_value"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.update.user_value,callback:function(t){e.$set(e.update,"user_value",t)},expression:"update.user_value"}})],1),a("el-form-item",{attrs:{label:"分销次数",prop:"sale_bution"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.update.sale_bution,callback:function(t){e.$set(e.update,"sale_bution",t)},expression:"update.sale_bution"}})],1),a("el-form-item",{attrs:{label:"阅读次数",prop:"read_value"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.update.read_value,callback:function(t){e.$set(e.update,"read_value",t)},expression:"update.read_value"}})],1),a("el-form-item",{attrs:{label:"PV数",prop:"browse_value"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.update.browse_value,callback:function(t){e.$set(e.update,"browse_value",t)},expression:"update.browse_value"}})],1),a("el-form-item",{attrs:{label:"购买次数",prop:"sale_value"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.update.sale_value,callback:function(t){e.$set(e.update,"sale_value",t)},expression:"update.sale_value"}})],1),a("el-form-item",{attrs:{label:"分享次数",prop:"share_value"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.update.share_value,callback:function(t){e.$set(e.update,"share_value",t)},expression:"update.share_value"}})],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.draw}},[e._v("确定")])],1)],1)],1)},i=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title"},[t("div",{staticClass:"text"},[this._v("昨日统计")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"icon"},[t("img",{attrs:{src:a(708)}}),t("p",[this._v("累计收益")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title"},[t("div",{staticClass:"btn"},[t("div",{staticClass:"text active"},[this._v("运营雷达图")])])])}];a.d(t,"a",function(){return s}),a.d(t,"b",function(){return i})},250:function(e,t,a){"use strict";a.r(t);var s=a(1096),i=a(435);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);a(1006);var n=a(0),l=Object(n.a)(i.default,s.a,s.b,!1,null,"9d8bb930",null);t.default=l.exports},435:function(e,t,a){"use strict";a.r(t);var s=a(436),i=a.n(s);for(var r in s)"default"!==r&&function(e){a.d(t,e,function(){return s[e]})}(r);t.default=i.a},436:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o(a(15)),i=a(709),r=(l(a(77)),l(a(437))),n=o(a(438));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}t.default={data:function(){return{seriverTime:"",timmer:null,yesterdayData:"",dialogVisible:!1,runDayData:{days:"",book_num:""},update:{user_value:0,browse_value:0,share_value:0,sale_value:0,sale_bution:0,read_value:0},rules:{user_value:[{required:!0,message:"请填写预期新增用户数",trigger:"change"}],browse_value:[{required:!0,message:"请填写预期PV数",trigger:"change"}],share_value:[{required:!0,message:"请填写预期分享数",trigger:"change"}],sale_value:[{required:!0,message:"请填写预期销售数",trigger:"change"}],sale_bution:[{required:!0,message:"请填写预期分销数",trigger:"change"}],read_value:[{required:!0,message:"请填写预期阅读数",trigger:"change"}]},chooseDate:["2018-06-01","2018-06-30"],chooseDate2:["0","0"],type:"",activeName:"first",color:["#2ca2fa","#1ABFAE","#FFB53C","#E96E5D"],plantInfo:this.$config.plantInfo}},computed:{},created:function(){this.getTotal(),this.getInfo(),this.draw(),this.draw2()},methods:{getInfo:function(){var e,t=(e=s.default.mark(function e(){var t,a,r=this;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,i.homeInfo)().then(function(e){r.seriverTime=e.data.now_time,r.time()});case 3:e.next=17;break;case 5:if(e.prev=5,e.t0=e.catch(0),t=e.t0.payload){e.next=10;break}return e.abrupt("return");case 10:e.t1=s.default.keys(t.messages);case 11:if((e.t2=e.t1()).done){e.next=17;break}return a=e.t2.value,this.$message.error(t.messages[a]),e.abrupt("break",17);case 17:case"end":return e.stop()}},e,this,[[0,5]])}),function(){var t=e.apply(this,arguments);return new Promise(function(e,a){return function s(i,r){try{var n=t[i](r),l=n.value}catch(e){return void a(e)}if(!n.done)return Promise.resolve(l).then(function(e){s("next",e)},function(e){s("throw",e)});e(l)}("next")})});return function(){return t.apply(this,arguments)}}(),time:function(){var e=this;clearInterval(this.timmer),this.timmer=setInterval(function(){e.seriverTime=e.format()},1e3)},format:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=new Date(Date.parse(this.seriverTime.replace(/-/g,"/"))),t={y:e.getFullYear(),M:e.getMonth()+1,d:e.getDate(),h:e.getHours(),m:e.getMinutes(),s:e.getSeconds()+1};return e.getSeconds()>=59&&(t.s=0,t.m+=1),e.getMinutes()>=59&&(t.s=0,t.m=0,t.h+=1),t.y+"-"+this.toMax(t.M)+"-"+this.toMax(t.d)+" "+this.toMax(t.h)+":"+this.toMax(t.m)+":"+this.toMax(t.s)},toMax:function(e){return e<10?"0"+e:e},getStyle:function(e){return"X-READ"==e?"Xbook":"WeChat"==e?"weChat":"sina"},getTotal:function(){var e=this;r.statistics().then(function(t){log(t),e.yesterdayData=Object.entries(t.data.yester),e.runDayData=t.data.count,e.yesterdayData.map(function(e){switch(e[0]){case"browse_value":e[0]="昨日访问";break;case"share_value":e[0]="昨日分享";break;case"sale_money":e[0]="昨日销售";break;case"distribute_money":e[0]="昨日分销";break;default:e[0]="未知"}})})},draw:function(e){var t=this;r.expected(this.update).then(function(e){var a={};r.statistics().then(function(e){var s,i,r=void 0;a.expect=Object.values(e.data.Expect),a.month=Object.values(e.data.month),s=Math.max.apply(Math,u(a.expect)),i=Math.max.apply(Math,u(a.month)),r=s>=i?s:i,log(r),setTimeout(function(e){n.default.init(t.$refs.charts).setOption({tooltip:{},legend:{data:["预期","实际"],left:0},radar:{name:{textStyle:{color:"#fff",backgroundColor:"#999",borderRadius:3,padding:[3,5]}},indicator:[{name:"新增用户",max:r},{name:"分享数",max:r},{name:"购买次数",max:r},{name:"PV数",max:r},{name:"阅读次数",max:r},{name:"分销次数",max:r}]},series:[{name:"预期 vs 实际",type:"radar",data:[{value:a.expect,name:"预期"},{value:a.month,name:"实际"}]}]})},10)}),t.dialogVisible=!1})},draw2:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browse";this.type=t,r.trend({type:this.type,start_time:this.chooseDate2[0],end_time:this.chooseDate2[1]}).then(function(t){log(t);var a={value:[],date:[],money:[],bution:[]};t.data.forEach(function(e){a.date.push(e.date),a.value.push(e.value)}),setTimeout(function(t){n.default.init(e.$refs.charts2).setOption({xAxis:{type:"category",data:a.date},yAxis:{type:"value"},series:[{data:a.value,type:"line",smooth:!0}]})},10)})},setting:function(){this.dialogVisible=!0}}}},437:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.saleInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)("/read/sale_achievement_info",e)},t.saleByDate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)("/read/book_sale",e)},t.statistics=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)("/read/admin_index",e)},t.expected=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)("/read/admin_index",e)},t.trend=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)("/read/admin_type",e)};var s,i=a(76),r=a(106);(s=r)&&s.__esModule},469:function(e,t,a){},708:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAAtCAYAAAD/aHgLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpENEVBMzQ5QjdCNDgxMUU4QThGQ0IxNzYzRjYxN0U5MCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpENEVBMzQ5QzdCNDgxMUU4QThGQ0IxNzYzRjYxN0U5MCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkQ0RUEzNDk5N0I0ODExRThBOEZDQjE3NjNGNjE3RTkwIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkQ0RUEzNDlBN0I0ODExRThBOEZDQjE3NjNGNjE3RTkwIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+IP0uqwAABYxJREFUeNrUmnlsFVUUxu9rEVBaWpVGW9FWEQPK5oJapYhRSwqKK9FEqAYFaiMoVf5AJNYlLhEFFRURWdyoGsUNBEmEWgkIImoFkSAirWhEgitVFB7fke/J6c0dXudtfXOSX+jcmffenLlnH0LhcNhElYUlphXkKFAKTgIZoBEsBRt8f9OgOtPGpKcMBzNBW8e5x8A4EPbzhRlpqGQxmEMl7wLruH4T2A5uoaIm6Irere6rHFSDOtAB5HF9ksdue0q6mW4IDFDHXUARGA/eV+u5oA9YFdQdbQcOUcfvgk/ANiqrpWOQTfcvBqE9PJaoey+QsD/ZuvbroPvoSHAy+Ih+2AvcDrLVNR+AhiAp2h4c4VjfSF+dRhM9VZ3bwQic9lG3kApsBU28cfl3MbiKAcnQfMfQlPVOFvNB+ItyKa6MZCemRkkNUv0M5QMwvPYC8BXYEtOvojJK5Y5Kon+qBfnvfO5cxCd3g/diVjLFptsDPKJM8gxwjzrfyNo2kislAD2UyBtIlaJ3gEz+Lf9OBA+Dn7hWTeVK1WdGgYIgKSqmOsRauxycBu5jN/ISi3UtmY7PxSypKAHzWafaIkHpHLBW5U5bugZJ0fYe65IbrwDvgLc9rjksSKbb6Ogdp4PDwRvgT3AC6O347JYg7agoshz0U2ulNOkappIZHru3JGhRd6p1LDt4KehGBeXvi6xrPgSfBk3R18F8x/r13FVbfgeVibyBWExX+sVjwfGKAu5ADetWlwwDr4LBVt1baF23k+lnXUI7+vCCfn1V+N+EurCR9a1M386yFCqikl6W8Ct4gT5X72FBN4IJ/C4tUurN45ikIaH2xCngHJXDxil/qmR96kdywM1kFRWuYUAS2cu1GayEunGq8CNYAf6I0f2G0MePAb+AWvCa/r54o24TU0Bbzne0nEmmgJfBs2CNOv8FiUcGcvLQw1q/Djxg9o9Nl/gJRr+B51ijXsuKJp8RU6zhRNAfvMhxiBbpQkZz9iOKVvid9zikuzgXWORQMiLSJCzgfbVY0W/pW/dzd1bQ3LTU8QnKAxgLvnR8j9S3T4Mf+ODO9qngkeBJ+n+Zde57Brt6K3DORLwJJSO9iI88AXpSkVlgl6O0G8EHVs9JQm6UxqAKfMPYkWkFwPHMzVezwnrUqpdzkplHJaquBjdwlys8CgAxvcdpIXN5w3ans579bI5a30Pr6Eo/3c11KTfvVMciWclUtJomL+kiCzwDTmfTPZ1FgRaJvuXsZvqy6F/GetgOdIu4c7K72x2//Y85MDL9L40muzI6jpOEBnYpl4DPODvKp9+vtD7TkZFSAtd51rn19M2yKAWFpLdDdb2dqhJQfuditmMy/ZOhdCcGpGLm1HlWPg6p45+5e725m17SmZF/ilqTwLczmYrO5lDLbtEK6ENi1jLivJJThioPE5zM9CX++K/Hb3Wg5Wxk+tNSgcoonMw2rZYUMsKO4BP/32/YrpVyx+wH8ia4DWyOYinlTHv5jvawMtLUp8J0vzP733MWsVR7ywoUhmacp45XcvpwMCX7swiZ7VDyFUbz51PdpkXSgQSkyxikJtF8bZEgNNR4v9Huwkhca5q/qhD5GJwLrrGnE631fnQbJ4BiciUsKdtwhxaz+Lcll7491jR/tWgY1SewagvH04/mcCds2RrnFGCv8uWD9cyjmZc7OfzwQRYTTYlovIs8JgRzOSVIlpRRie7Wepjt5USmj7QYjsUip1DBgR7R/FYWHmk3M2qp5DFffu5QchPr3gF+lYyMUrJVN9CE5Pp3sysWlmRb3YI9/tgVp3IXsr3L5DQwy9ENSSU1zSrUfY1SQmnwP8eqzIE3bcbRnUgQ2pGImVFry9GuR8uqaEOifiQdFJ3PwiGDPekak8BXERHZJ8AAoC5Cf4Qgo4cAAAAASUVORK5CYII="},709:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.homeInfo=function(){return(0,i.request_get)("/publish/home/statistics")},t.sendTemp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)("/publish/articles/book_temp/import",e)},t.getTplUrl=function(){return(0,i.request_get)("/publish/temp_address")};var s,i=a(76),r=a(106);((s=r)&&s.__esModule?s:{default:s}).default.compile("/common/upload/tasks/:id")}}]);