(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{229:function(t,e,n){"use strict";n.r(e);var i=n(319),a=n(271);for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);n(310);var r=n(3),l=Object(r.a)(a.default,i.a,i.b,!1,null,"66e530ae",null);e.default=l.exports},271:function(t,e,n){"use strict";n.r(e);var i=n(272),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e.default=a.a},272:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=l(n(63)),a=(l(n(234)),r(n(95)),r(n(306)),n(307),n(309)),o=n(95);function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function l(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{info:{},loginInfo:null,contact:null,outlink:[],ewm:[]}},mounted:function(){this.getloginInfo()},methods:{upload:function(t,e){if("ewm"==t)return this.$refs[t+e][0].click();this.$refs[t].click()},getUrl:function(t,e,n){var i=this;(0,o.getTask)(e.target.files[0]).then(function(e){var a=void 0;(a="ewm"==t?i.ewm[n]:i.loginInfo[t]).value=e.data.path,a.lsUrl=e.data.url,i.push(a)})},getloginInfo:function(){var t,e=(t=i.default.mark(function t(){var e=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.getInfo)().then(function(t){e.loginInfo=t.loginInfo,e.outlink=t.outlink,e.contact=t.contact,e.ewm=t.ewm});case 2:case"end":return t.stop()}},t,this)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function i(a,o){try{var r=e[a](o),l=r.value}catch(t){return void n(t)}if(!r.done)return Promise.resolve(l).then(function(t){i("next",t)},function(t){i("throw",t)});t(l)}("next")})});return function(){return e.apply(this,arguments)}}(),add:function(){this.outlink.push({name:"outlink",key:"",value:"",type:1})},adderm:function(){this.ewm.push({name:"ewm",key:"",value:"",type:2})},del:function(t,e){this[e][t].id&&(0,a.del)({id:this[e][t].id}),this[e].splice(t,1)},push:function(t){var e=this;t.key&&t.value&&(0,a.save)(t).then(function(t){e.$message.success("保存成功"),e.getloginInfo()},function(t){e.$message.error("保存失败")})}}}},273:function(t,e,n){},306:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setting=void 0;var i,a,o=s(n(63));e.setting=(i=o.default.mark(function t(e){var n;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=void 0,t.next=3,(0,u.platInfo)({id:"current"}).then(function(t){n=t.data.id});case 3:return t.abrupt("return",(0,r.request_post)(c({id:n}),e));case 4:case"end":return t.stop()}},t,this)}),a=function(){var t=i.apply(this,arguments);return new Promise(function(e,n){return function i(a,o){try{var r=t[a](o),l=r.value}catch(t){return void n(t)}if(!r.done)return Promise.resolve(l).then(function(t){i("next",t)},function(t){i("throw",t)});e(l)}("next")})},function(t){return a.apply(this,arguments)});e.getInfo=function(){return(0,u.platInfo)({id:"current"})};var r=n(64),l=s(n(65)),u=n(95);function s(t){return t&&t.__esModule?t:{default:t}}var c=l.default.compile("/common/app/apps/:id/extend_info")},309:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.save=void 0;var i,a,o=l(n(63));e.save=(i=o.default.mark(function t(e){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.id){t.next=4;break}return t.abrupt("return",(0,r.request_put)(u({id:e.id}),e));case 4:if(!e.key){t.next=8;break}return t.next=7,(0,r.request_post)("/system/setting/add",e);case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}},t,this)}),a=function(){var t=i.apply(this,arguments);return new Promise(function(e,n){return function i(a,o){try{var r=t[a](o),l=r.value}catch(t){return void n(t)}if(!r.done)return Promise.resolve(l).then(function(t){i("next",t)},function(t){i("throw",t)});e(l)}("next")})},function(t){return a.apply(this,arguments)});e.getInfo=function(){return(0,r.request_get)("/system/setting/get_set_list",{pageStart:0,pageOffset:100}).then(function(t){var e={loginInfo:{},contact:{},outlink:[],ewm:[]};return t.data.forEach(function(t){"info"==t.name?e.loginInfo[t.key]=t:"contact"==t.name?e.contact[t.key]=t:"outlink"==t.name?e.outlink.push(t):"ewm"==t.name&&e.ewm.push(t)}),!Object.values(e.loginInfo).length<3&&(e.loginInfo.title=e.loginInfo.title||{name:"info",key:"title",value:"",type:1},e.loginInfo.ico=e.loginInfo.ico||{name:"info",key:"ico",value:"",type:2},e.loginInfo.logo=e.loginInfo.logo||{name:"info",key:"logo",value:"",type:2},e.loginInfo.banner=e.loginInfo.banner||{name:"info",key:"banner",value:"",type:2}),!Object.values(e.contact).length<3&&(e.contact.phone=e.contact.phone||{name:"contact",key:"phone",value:"",type:1},e.contact.qq=e.contact.qq||{name:"contact",key:"qq",value:"",type:1},e.contact.email=e.contact.email||{name:"contact",key:"email",value:"",type:1}),e})},e.del=function(t){return(0,r.request_delete)(u(t),t)};var r=n(64);function l(t){return t&&t.__esModule?t:{default:t}}var u=l(n(65)).default.compile("/system/setting/:id")},310:function(t,e,n){"use strict";var i=n(273);n.n(i).a},319:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loginInfo?n("div",{staticClass:"content"},[t._m(0),n("div",{staticClass:"box"},[n("div",{staticClass:"part"},[n("div",{staticClass:"title"},[n("el-input",{attrs:{value:1,width:"300",placeholder:"请输入内容"},on:{blur:function(e){return t.push(t.loginInfo.title)}},model:{value:t.loginInfo.title.value,callback:function(e){t.$set(t.loginInfo.title,"value",e)},expression:"loginInfo.title.value"}},[n("template",{slot:"prepend"},[t._v("标题：")])],2)],1),n("div",{staticClass:"logo"},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.upload("ico")}}},[t._v("网站 ICO 上传")]),n("input",{ref:"ico",staticClass:"hidden",attrs:{type:"file"},on:{change:function(e){return t.getUrl("ico",e)}}}),n("br"),t.loginInfo.ico?n("img",{attrs:{src:t.loginInfo.ico.value}}):t._e()],1),n("div",{staticClass:"logo"},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.upload("logo")}}},[t._v("Logo 上传")]),n("input",{ref:"logo",staticClass:"hidden",attrs:{type:"file"},on:{change:function(e){return t.getUrl("logo",e)}}}),n("br"),t.loginInfo.logo?n("img",{attrs:{src:t.loginInfo.logo.value}}):t._e()],1),n("div",{staticClass:"banner"},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.upload("banner")}}},[t._v("Banner 上传")]),n("input",{ref:"banner",staticClass:"hidden",attrs:{type:"file"},on:{change:function(e){return t.getUrl("banner",e)}}}),n("br"),t.loginInfo.banner?n("img",{attrs:{src:t.loginInfo.banner.value}}):t._e()],1),n("div",{staticClass:"title"},[n("el-input",{attrs:{value:1,width:"300",placeholder:"请输入内容"},on:{blur:function(e){return t.push(t.contact.phone)}},model:{value:t.contact.phone.value,callback:function(e){t.$set(t.contact.phone,"value",e)},expression:"contact.phone.value"}},[n("template",{slot:"prepend"},[t._v("电话：")])],2)],1),n("div",{staticClass:"title"},[n("el-input",{attrs:{value:1,width:"300",placeholder:"请输入内容"},on:{blur:function(e){return t.push(t.contact.email)}},model:{value:t.contact.email.value,callback:function(e){t.$set(t.contact.email,"value",e)},expression:"contact.email.value"}},[n("template",{slot:"prepend"},[t._v("邮箱：")])],2)],1),n("div",{staticClass:"title"},[n("el-input",{attrs:{value:1,width:"300",placeholder:"请输入内容"},on:{blur:function(e){return t.push(t.contact.qq)}},model:{value:t.contact.qq.value,callback:function(e){t.$set(t.contact.qq,"value",e)},expression:"contact.qq.value"}},[n("template",{slot:"prepend"},[t._v("QQ： ")])],2)],1)]),n("div",{staticClass:"part outline"},[n("div",{staticClass:"info"},[t._v("注：登录页-联系我们")]),t._l(t.ewm,function(e,i){return t.ewm.length?n("div",{staticClass:"group"},[n("el-input",{staticClass:"link",attrs:{placeholder:"联系我们相关名称",size:"small"},on:{blur:function(n){return t.push(e)}},model:{value:e.key,callback:function(n){t.$set(e,"key",n)},expression:"item.key"}}),e.lsUrl?n("img",{staticStyle:{height:"30px",margin:"0","margin-right":"20px"},attrs:{src:e.lsUrl}}):n("img",{staticStyle:{height:"30px",margin:"0","margin-right":"20px"},attrs:{src:e.value}}),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.upload("ewm",i)}}},[t._v("二维码上传")]),n("input",{ref:"ewm"+i,refInFor:!0,staticClass:"hidden",attrs:{type:"file"},on:{change:function(e){return t.getUrl("ewm",e,i)}}}),n("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(e){return t.del(i,"ewm")}}},[t._v("删除")])],1):t._e()}),n("div",{staticClass:"group add"},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.adderm}},[t._v("添加")])],1)],2),n("div",{staticClass:"part outline"},[n("div",{staticClass:"info"},[t._v("注：登录页-外链地址")]),t._l(t.outlink,function(e,i){return n("div",{staticClass:"group"},[n("el-input",{staticClass:"link",attrs:{placeholder:"外链名称",size:"small"},on:{blur:function(n){return t.push(e)}},model:{value:e.key,callback:function(n){t.$set(e,"key",n)},expression:"item.key"}}),n("el-input",{staticClass:"link",attrs:{placeholder:"外链地址",size:"small"},on:{blur:function(n){return t.push(e)}},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"item.value"}}),n("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(e){return t.del(i,"outlink")}}},[t._v("删除")])],1)}),n("div",{staticClass:"group add"},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.add}},[t._v("添加")])],1)],2)])]):t._e()},a=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"titleWrap loginSetting"},[e("div",{staticClass:"tableTop"},[e("div",{staticClass:"title vel-line"},[e("span",{staticClass:"titleText"},[this._v("登录页设置")])])])])}];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})}}]);